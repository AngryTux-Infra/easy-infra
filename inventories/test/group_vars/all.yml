---
# group_vars/all.yml — Variáveis globais para o ambiente de teste
# Baseado no ambiente de produção com adaptações para o servidor de teste

# ==============================================================================
# Configurações de SSH
# ==============================================================================

ssh:
  port: 2222
  password_auth: "no"
  permit_root_login: "no"
  allow_groups: "ssh-access"

# ==============================================================================
# Usuário administrador
# ==============================================================================

user:
  admin:
    name: feuser
    home: /home/feuser
    groups:
      - sudo
      - adm
    ssh:
      authorized_key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDzvCZm39zNAL6i+acOVRHMm9Z7vfMOHWScIV7wbiPEU sh3ll@sh3ll"

# ==============================================================================
# Configurações do servidor
# ==============================================================================

server_timezone: UTC
server_hostname: "homelab-test"

# ==============================================================================
# Atualizações automáticas
# ==============================================================================

auto_security_updates: true
auto_reboot: false
notify_email: ""

# ==============================================================================
# Firewall
# ==============================================================================

access:
  firewall:
    allowed_ports:
      - 80
      - 443
    allowed_ips: []
    networks:
      lan:
        cidr: "192.168.1.0/24"
    ssh_restrict_to_lan: true

  # ==============================================================================
  # Fail2ban
  # ==============================================================================
  fail2ban:
    bantime: 604800
    ignoreip: "127.0.0.1/8 ::1 192.168.1.0/24"
    findtime: 600
    maxretry: 5

# ==============================================================================
# APT e pacotes
# ==============================================================================

apt_release: ""

# ==============================================================================
# Logs
# ==============================================================================

log_dir: /var/log/easy-infra
