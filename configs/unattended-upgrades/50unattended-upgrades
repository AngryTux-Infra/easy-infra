// Configuração principal do unattended-upgrades
// Gerado pelo easy-infra — NÃO edite manualmente; use configs/unattended-upgrades/50unattended-upgrades

// Origens permitidas para atualizações automáticas
// Apenas security updates são habilitadas por padrão
Unattended-Upgrade::Allowed-Origins {
    // Debian
    "${distro_id}:${distro_codename}-security";
    // Ubuntu
    "${distro_id}ESMApps:${distro_codename}-apps-security";
    "${distro_id}ESM:${distro_codename}-infra-security";
};

// Pacotes que NUNCA devem ser atualizados automaticamente
Unattended-Upgrade::Package-Blacklist {
};

// Remover dependências não utilizadas após a atualização
Unattended-Upgrade::Remove-Unused-Dependencies "true";

// Remover kernels antigos automaticamente
Unattended-Upgrade::Remove-New-Unused-Dependencies "true";

// Reinicialização automática após atualizações que exigem reboot
// Valor substituído pelo script: true ou false
Unattended-Upgrade::Automatic-Reboot "{{AUTO_REBOOT}}";

// Horário para reinicialização automática (se habilitada)
Unattended-Upgrade::Automatic-Reboot-Time "02:00";

// Endereço de e-mail para notificações (vazio = desabilitado)
// Valor substituído pelo script
Unattended-Upgrade::Mail "{{NOTIFY_EMAIL}}";

// Enviar e-mail apenas em caso de erro (quando Mail estiver configurado)
Unattended-Upgrade::MailOnlyOnError "true";

// Registrar log verboso em /var/log/unattended-upgrades/
Unattended-Upgrade::Verbose "false";

// Limite de largura de banda para download (0 = sem limite, em KB/s)
Acquire::http::Dl-Limit "0";
